# =============================================================================
# SPARC Security Environment Configuration Template
# =============================================================================
# 
# CRITICAL: This file contains examples of ALL required environment variables
# for secure operation. Copy to .env and set proper values for your environment.
# 
# PRODUCTION SECURITY WARNING:
# - ALL secrets MUST be set explicitly in production
# - Use strong, unique secrets generated with crypto.randomBytes(64).toString('hex')
# - Never commit actual secrets to version control
# - Rotate secrets regularly
# =============================================================================

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Environment (development|production|test)
NODE_ENV=development

# Server port (1-65535)
PORT=3001

# Client URL for CORS (must be valid URL)
CLIENT_URL=http://localhost:5173

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL connection string (REQUIRED)
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://username:password@localhost:5432/civgame

# Redis connection string (optional, defaults to localhost)
REDIS_URL=redis://localhost:6379

# =============================================================================
# AUTHENTICATION & SECURITY (CRITICAL)
# =============================================================================

# JWT Access Token Secret (REQUIRED, min 32 chars)
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your_super_secure_64_character_jwt_secret_generated_with_crypto_randomBytes

# JWT Refresh Token Secret (REQUIRED, min 32 chars, MUST be different from JWT_SECRET)
JWT_REFRESH_SECRET=your_different_super_secure_64_character_refresh_secret_crypto_randomBytes

# JWT token expiration times (format: 1m, 15m, 1h, 7d)
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# Session secret for additional security (min 32 chars)
SESSION_SECRET=your_session_secret_64_characters_long_generated_with_crypto_randomBytes

# Bcrypt rounds for password hashing (10-15 recommended)
BCRYPT_ROUNDS=12

# Security features
ENABLE_SECURITY_HEADERS=true
ENABLE_CORS_CREDENTIALS=false

# =============================================================================
# RATE LIMITING
# =============================================================================

# Rate limiting window in milliseconds (min 60000 = 1 minute)
RATE_LIMIT_WINDOW_MS=900000

# Maximum requests per window (10-1000)
RATE_LIMIT_MAX_REQUESTS=100

# Enable strict rate limiting mode
RATE_LIMIT_STRICT_MODE=false

# =============================================================================
# GAME CONFIGURATION
# =============================================================================

# Game limits
MAX_GAMES_PER_USER=3
MAX_PLAYERS_PER_GAME=8
MAX_CONCURRENT_GAMES=100

# Game timing (seconds)
TURN_TIME_LIMIT=300
GAME_CLEANUP_INTERVAL=300000

# Request timeout in milliseconds (5000-60000)
REQUEST_TIMEOUT_MS=30000

# =============================================================================
# FEATURES
# =============================================================================

# Game features
ENABLE_AI_PLAYERS=false
ENABLE_SPECTATORS=false
ENABLE_REPLAYS=false

# =============================================================================
# DEVELOPMENT & DEBUGGING
# =============================================================================

# Logging level (error|warn|info|debug)
LOG_LEVEL=info

# Development features (set to false in production)
ENABLE_DEBUG_ENDPOINTS=false
BYPASS_RATE_LIMITING=false

# =============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# =============================================================================
#
# Before deploying to production, ensure:
# 
# ✅ NODE_ENV=production
# ✅ All secrets are generated with crypto.randomBytes(64).toString('hex')
# ✅ JWT_SECRET is unique and at least 64 characters
# ✅ JWT_REFRESH_SECRET is different from JWT_SECRET and at least 64 characters
# ✅ SESSION_SECRET is unique and at least 64 characters
# ✅ DATABASE_URL points to production database
# ✅ CLIENT_URL matches your production frontend URL
# ✅ ENABLE_DEBUG_ENDPOINTS=false
# ✅ BYPASS_RATE_LIMITING=false
# ✅ Rate limiting is properly configured for your expected traffic
# ✅ All secrets are stored securely (environment variables, secrets manager)
# ✅ SSL/TLS is enabled for all connections
# ✅ Database connections use SSL
# ✅ Regular secret rotation is planned
#
# NEVER commit the actual .env file with real secrets!
# =============================================================================